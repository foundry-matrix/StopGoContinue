<html>
<head>
	<title>Stop, go, continue</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>
<body>
	<script type="text/javascript">

	$(document).ready(function(){
		var svg_data;
		// function fetch(){
		// 	setInterval(function(){
		// 		$.getJSON('http://localhost:3000', function(data){
					
		// 			svg_data = data;
					
		// 		});
		// 	}, 3000);
		// }

		// fetch();

		// dummy data
		svg_data = [{text: "Friday drinks! #continue", rt:"5"},{text: "Keeping the door open #stop", rt:"11"},{text: "Morning challenges #go", rt:"8"}]
		
		var h = 200;
		var w = 500;

		var barPadding = 20;

		var svg = d3.select("body")
					.append("svg")
					.attr({
						width: w,
						height: h
					});



		var circles = svg.selectAll("circle")
			.data(svg_data)
			.enter()
			.append("circle");

	

		var rects = svg.selectAll("rect")
			   .data(svg_data)
			   .enter()
			   .append("rect");



		rects.attr("x", function(d, i) {
			   		return i * (50) + 25;
			   })
			   .attr("y", function(d) {
			   		return h - (d.rt*5);
			   })
			   .attr("width", 20)
			   .attr("height", function(d) {
			   		return d.rt * 5;
			   });

/*

		circles.attr("cx", function(d, i) {
						return 30;
					})
				   .attr("cy", function(d,i){ return i * 50 + 20})
				   .attr("r", function(d) {
				   		console.log(d.rt);
						return d.rt;
				   })
				   .attr("fill", "black")
				   .attr("stroke-width", function(d) {
						return d/2;
				   });
*/


		svg.selectAll("text")
			.data(svg_data)
			.enter()
			.append("text")
			.attr("x", function(d,i){ return 25;})
			.attr("y", function(d,i){ return i*50 + 25})
			.text(function(d){ return (d.text + " " + d.rt)});


	});



	</script>
</body>
</html>